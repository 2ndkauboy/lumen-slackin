/*!
 * App
 */
var app=app||{};app.config=app.config||{debug:!1},app.Listeners=app.Listeners||{},app.Listeners.UsersActivity={whenActivity:function(e){app.config.debug&&console.log(e),$("#status").html(Lang.choice("slackin.users_online",e.active,e))}};var socket=io(app.config.websocket.host+":"+app.config.websocket.port);socket.on("local:UsersActivity",app.Listeners.UsersActivity.whenActivity),$.fn.serializeObject=function(){var e={},a=this.serializeArray();return $.each(a,function(){e[this.name]?(e[this.name].push||(e[this.name]=[e[this.name]]),e[this.name].push(this.value||"")):e[this.name]=this.value||""}),e},$(document).ready(function(){$("#form-invite form").submit(function(e){e.preventDefault();var a=$(this),s=a.serializeObject();$.ajax({url:$(this).attr("action"),type:"post",data:s,dataType:"json",success:function(e){a.hide(),$("#validation-message").removeClass("text-danger").addClass("text-success").html(e.message)},error:function(e){if(validation=e.responseJSON,void 0!=validation){if(validation.email){var s=$('[name="email"]',a);s.parents(".form-group").addClass("has-error"),s.siblings(".help-block").html(validation.email)}if(validation.username){var i=$('[name="username"]',a);i.parents(".form-group").addClass("has-error"),i.siblings(".help-block").html(validation.username)}}$("#validation-message").removeClass("text-success").addClass("text-danger").html(Lang.get("validation.wrong"))}})})});
